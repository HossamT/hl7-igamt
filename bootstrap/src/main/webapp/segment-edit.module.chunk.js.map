{"version":3,"sources":["/Users/ena3/hl7-igamt/client/src/app/igdocuments/igdocument-edit/segment-edit/segment-can-desactivate.service.ts","/Users/ena3/hl7-igamt/client/src/app/igdocuments/igdocument-edit/segment-edit/segment-edit-routing.module.ts","/Users/ena3/hl7-igamt/client/src/app/igdocuments/igdocument-edit/segment-edit/segment-edit.component.css","/Users/ena3/hl7-igamt/client/src/app/igdocuments/igdocument-edit/segment-edit/segment-edit.component.html","/Users/ena3/hl7-igamt/client/src/app/igdocuments/igdocument-edit/segment-edit/segment-edit.component.ts","/Users/ena3/hl7-igamt/client/src/app/igdocuments/igdocument-edit/segment-edit/segment-edit.guard.ts","/Users/ena3/hl7-igamt/client/src/app/igdocuments/igdocument-edit/segment-edit/segment-edit.module.ts"],"names":[],"mappings":"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","file":"segment-edit.module.chunk.js","sourcesContent":["/**\n * Created by ena3 on 12/11/17.\n */\nimport { Injectable }           from '@angular/core';\nimport { Observable }           from 'rxjs/Observable';\nimport { CanDeactivate,\n  ActivatedRouteSnapshot,\n  RouterStateSnapshot }  from '@angular/router';\nimport {SegmentEditComponent} from \"./segment-edit.component\";\n\nimport {WorkspaceService, Entity} from \"../../../service/workspace/workspace.service\";\nimport {Http} from \"@angular/http\";\nimport {IndexedDbService} from \"../../../service/indexed-db/indexed-db.service\";\n@Injectable()\nexport class CanDeactivateGuard implements CanDeactivate<SegmentEditComponent> {\n\n\n  constructor(private _ws : WorkspaceService,\n              private db : IndexedDbService){};\n  canDeactivate(\n    component: SegmentEditComponent,\n    route: ActivatedRouteSnapshot,\n    state: RouterStateSnapshot\n  ): Observable<boolean> | boolean {\n      console.log(\"Calling Desactivate\");\n\n    if(component.hash() !== this._ws.getPreviousHash()){\n      console.log(\"saving\");\n      this.db.saveSegment(component._segment);\n      console.log(\"saving\");\n      return Observable.of(true);\n\n    }else{\n      return Observable.of(true);\n    }\n\n\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// /Users/ena3/hl7-igamt/client/src/app/igdocuments/igdocument-edit/segment-edit/segment-can-desactivate.service.ts","/**\n * Created by hnt5 on 10/23/17.\n */\nimport {RouterModule} from \"@angular/router\";\nimport {NgModule} from \"@angular/core\";\nimport {SegmentEditComponent} from \"./segment-edit.component\";\nimport {SegmentGuard} from \"./segment-edit.guard\";\nimport {CanDeactivateGuard} from \"./segment-can-desactivate.service\";\nimport {AuthGuard} from \"./../../../login/auth-guard.service\";\n\n@NgModule({\n  imports: [\n    RouterModule.forChild([\n      {\n        path: ':id',\n        component: SegmentEditComponent,\n        canActivate : [ SegmentGuard],\n        canDeactivate: [CanDeactivateGuard],\n\n        children: [\n          {\n            path: 'definition',\n            loadChildren: './segment-definition/segment-definition.module#SegmentDefinitionModule'\n          },\n          {\n            path: 'metadata',\n            loadChildren: './segment-metadata/segment-metadata.module#SegmentMetadataModule'\n          }\n        ]\n      }\n\n    ])\n  ],\n  exports: [\n    RouterModule\n  ]\n})\nexport class SegmentEditRoutingModule {}\n\n\n\n// WEBPACK FOOTER //\n// /Users/ena3/hl7-igamt/client/src/app/igdocuments/igdocument-edit/segment-edit/segment-edit-routing.module.ts","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".sg-bar {\\n  /* Permalink - use to edit and share this gradient: http://colorzilla.com/gradient-editor/#f2f5f6+0,e3eaed+37,c8d7dc+100;Grey+3D+%234 */\\n  background: #f2f5f6; /* Old browsers */ /* FF3.6-15 */ /* Chrome10-25,Safari5.1-6 */\\n  background: linear-gradient(to bottom, #f2f5f6 0%,#e3eaed 37%,#c8d7dc 100%); /* W3C, IE10+, FF16+, Chrome26+, Opera12+, Safari7+ */\\n  filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#f2f5f6', endColorstr='#c8d7dc',GradientType=0 ); /* IE6-9 */\\n\\n\\n  padding-bottom: 10px;\\n  padding-top   : 10px;\\n  font-size : 24px;\\n}\\n\", \"\"]);\n\n// exports\n\n\n/*** EXPORTS FROM exports-loader ***/\nmodule.exports = module.exports.toString();\n\n\n//////////////////\n// WEBPACK FOOTER\n// /Users/ena3/hl7-igamt/client/src/app/igdocuments/igdocument-edit/segment-edit/segment-edit.component.css\n// module id = ../../../../../src/app/igdocuments/igdocument-edit/segment-edit/segment-edit.component.css\n// module chunks = segment-edit.module","module.exports = \"<entity-header [elm]=\\\"_segment\\\"></entity-header>\\n<div style=\\\"padding: 10px;\\\">\\n  <p-tabMenu [model]=\\\"segmentEditTabs\\\"></p-tabMenu>\\n  <router-outlet></router-outlet>\\n</div>\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// /Users/ena3/hl7-igamt/client/src/app/igdocuments/igdocument-edit/segment-edit/segment-edit.component.html\n// module id = ../../../../../src/app/igdocuments/igdocument-edit/segment-edit/segment-edit.component.html\n// module chunks = segment-edit.module","/**\n * Created by hnt5 on 10/23/17.\n */\nimport {Component, Input} from \"@angular/core\";\nimport {ActivatedRoute, Router} from \"@angular/router\";\nimport {WorkspaceService, Entity} from \"../../../service/workspace/workspace.service\";\nimport {Md5} from \"ts-md5/dist/md5\";\nimport {Observable} from \"rxjs\";\n\nimport 'rxjs/add/operator/filter';\n\n\n\n@Component({\n  selector : 'segment-edit',\n  templateUrl : './segment-edit.component.html',\n  styleUrls : ['./segment-edit.component.css']\n})\nexport class SegmentEditComponent {\n\n  _segment;\n  segmentEditTabs : any[];\n  private currentHash;\n\n\n\n\n  @Input() set segment(segment : any){\n    this._segment = segment;\n  }\n\n  constructor(private _ws : WorkspaceService,    private route: ActivatedRoute,\n              private router: Router){\n\n     _ws.getCurrent(Entity.SEGMENT).subscribe(data =>this.segment=data);\n\n\n\n  };\n\n  ngOnInit(){\n    this.segmentEditTabs = [\n      {label: 'Metadata', icon: 'fa-info-circle', routerLink:'./metadata'},\n      {label: 'Definition', icon: 'fa-table', routerLink:'./definition'},\n      {label: 'Delta', icon: 'fa-table', routerLink:'./delta'},\n      {label: 'Cross-Reference', icon: 'fa-link', routerLink:'./crossref'}\n    ];\n  }\n  ngOnDestroy(){\n\n  }\n\n  hash(){\n    let str=JSON.stringify(this._segment);\n    console.log(\"Calling Hash \");\n    console.log(Md5.hashStr(str));\n    return Md5.hashStr(str);\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// /Users/ena3/hl7-igamt/client/src/app/igdocuments/igdocument-edit/segment-edit/segment-edit.component.ts","/**\n * Created by hnt5 on 10/25/17.\n */\nimport {Injectable} from \"@angular/core\";\nimport {CanActivate, ActivatedRouteSnapshot, RouterStateSnapshot} from \"@angular/router\";\nimport {WorkspaceService, Entity} from \"../../../service/workspace/workspace.service\";\nimport {Http} from \"@angular/http\";\nimport {IndexedDbService} from \"../../../service/indexed-db/indexed-db.service\";\n\n@Injectable()\nexport class SegmentGuard implements CanActivate {\n\n  constructor(private _ws : WorkspaceService,\n              private db : IndexedDbService){};\n\n  canActivate(route: ActivatedRouteSnapshot, state: RouterStateSnapshot): Promise<boolean> {\n    return new Promise<boolean>((resolve, reject) => {\n      this.db.getSegment(route.params['id'],function (data) {\n\n            this._ws.setCurrent(Entity.SEGMENT, data);\n            resolve(true);\n\n\n\n\n\n      }.bind(this));\n    });\n  }\n\n}\n\n\n\n\n\n// WEBPACK FOOTER //\n// /Users/ena3/hl7-igamt/client/src/app/igdocuments/igdocument-edit/segment-edit/segment-edit.guard.ts","/**\n * Created by hnt5 on 10/23/17.\n */\nimport {NgModule, CUSTOM_ELEMENTS_SCHEMA} from \"@angular/core\";\nimport {CommonModule} from \"@angular/common\";\nimport {SegmentEditComponent} from \"./segment-edit.component\";\nimport {SegmentEditRoutingModule} from \"./segment-edit-routing.module\";\nimport {TabMenuModule} from \"primeng/components/tabmenu/tabmenu\";\nimport {FormsModule} from \"@angular/forms\";\nimport {DialogModule} from \"primeng/components/dialog/dialog\";\nimport {DropdownModule} from \"primeng/components/dropdown/dropdown\";\nimport {SegmentGuard} from \"./segment-edit.guard\";\nimport {UtilsModule} from \"../../../utils/utils.module\";\nimport {CanDeactivateGuard} from \"./segment-can-desactivate.service\";\n\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    TabMenuModule,\n    DialogModule,\n    DropdownModule,\n    SegmentEditRoutingModule,\n    UtilsModule\n  ],\n  providers : [ SegmentGuard,CanDeactivateGuard ],\n  declarations: [\n    SegmentEditComponent\n  ],\n  schemas : [ CUSTOM_ELEMENTS_SCHEMA ]\n})\nexport class SegmentEditModule {}\n\n\n\n// WEBPACK FOOTER //\n// /Users/ena3/hl7-igamt/client/src/app/igdocuments/igdocument-edit/segment-edit/segment-edit.module.ts"],"sourceRoot":"webpack:///"}