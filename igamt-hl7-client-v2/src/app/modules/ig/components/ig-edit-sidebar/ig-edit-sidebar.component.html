<div class="input-group sidebar-filter">
  <div class="input-group-prepend">
    <span class="input-group-text" id="inputGroupPrepend3"><i class="fa fa-filter"></i></span>
  </div>
  <input (keyup)="filterFn($event.target.value)" class="form-control" id="validationServerUsername"
          placeholder="Filter" required style="background-color: #f0f0f0;" type="text">
</div>
<div class="delta-filter" *ngIf="derived">

  <div>
    <div class="custom-control custom-switch">
      <input [(ngModel)]="delta" class="custom-control-input" id="deltaSwitch" type="checkbox" (ngModelChange)="toggleDelta()">
      <label class="custom-control-label" for="deltaSwitch">Differential view </label>
    </div>
  </div>

  <div *ngIf="delta" style="display: flex; flex-direction: row">
      <span class="badge delta-badge delta-changed"> <p-checkbox name="delta-display" value="UPDATED" (ngModelChange)="filterByDelta($event)" [(ngModel)]="selectedValues"></p-checkbox> updated</span>
      <span class="badge delta-badge delta-deleted">   <p-checkbox name="delta-display" value="DELETED" (ngModelChange)="filterByDelta($event)" [(ngModel)]="selectedValues"></p-checkbox> deleted</span>
      <span class="badge delta-badge delta-added"> <p-checkbox name="delta-display" value="ADDED"   (ngModelChange)="filterByDelta($event)" [(ngModel)]="selectedValues"></p-checkbox> added </span>
      <span class="badge delta-badge badge-default">  <p-checkbox name="delta-display" value="UNCHANGED" (ngModelChange)="filterByDelta($event)" [(ngModel)]="selectedValues"> </p-checkbox> unchanged</span>
  </div>

</div>
<div class="sidebar-controls">
  <button (click)="collapseToc()" class="btn btn-sm btn-default" style="border: 1px solid grey; border-radius: 50%; width: 35px; height: 35px; margin-left: 5px;"><i class="fa fa-chevron-left"></i></button>
  <div class="btn-group mr-2" role="group">

    <button (click)="scrollTo('messages')" class="btn btn-text btn-sm entity-badge-conformance-profile" type="button">
      CP
    </button>
    <button (click)="scrollTo('segments')" class="btn btn-text btn-sm entity-badge-segment" type="button">
      S
    </button>
    <button (click)="scrollTo('datatypes')" class="btn btn-text btn-sm entity-badge-datatype" type="button">
      DT
    </button>
    <button (click)="scrollTo('valueSets')" class="btn btn-text btn-sm entity-badge-valueset" type="button">
      VS
    </button>

    <button  class="btn btn-text btn-sm btn-primary" (click)="expandAll()">
      <i class="fa fa-expand"></i>
    </button>
    <button  class="btn btn-text btn-sm btn-primary"  (click)="collapseAll()">
      <i class="fa fa-compress"></i>
    </button>
    <button  class="btn btn-text btn-sm btn-primary" type="button" (click)="addSection()">
      <i class="fa fa-plus"></i>
    </button>
  </div>

</div>
<div class="sidebar-content" id="sidebar-content">
  <!-- <app-configuration-toc [nodes]="nodes$ | async"></app-configuration-toc> -->
  <app-ig-toc (nodeState)="update($event)" [nodes]="nodes$ | async" (addChildren)="addChildren($event)" (addChild)="addChild($event)" (copy)="copy($event)" (delete)="delete($event)" [delta]="deltaMode$ | async"></app-ig-toc>
</div>

