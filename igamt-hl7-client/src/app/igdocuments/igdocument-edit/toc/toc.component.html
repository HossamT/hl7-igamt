<p-panel header="Display Options" [toggleable]="true">
  <input id="filter" #filter (keyup)="filterFn(filter.value)" placeholder="filter nodes"/>

  <p-dropdown [options]="types" [(ngModel)]="selectedType" (onChange)="filterByTypes()"></p-dropdown>

</p-panel>

<p-panel header="Content">
<tree-root [nodes]="ig.toc.content" [options]="options" #treeroot>

  <ng-template #treeNodeTemplate let-node let-index="index">
    <ng-container [ngSwitch]="node.data.data.type">
      <ng-container *ngSwitchCase="'IGDOCUMENT'">
        <span [contextMenu]="igcontextmenu">{{node.data.data.label}} -position:{{node.data.data.position}}</span>

        <context-menu #igcontextmenu>
          <ng-template contextMenuItem (execute)="addSection(node)">
            <i class="fa fa-plus"></i> Add Section
          </ng-template>
        </context-menu>
      </ng-container>

      <ng-container *ngSwitchCase="'TEXT'">
        <span [contextMenu]="textcontextmenu" (click)="path(node)"> {{getPath(node)}}{{node.data.data.label}}</span>
        <context-menu #textcontextmenu>
          <ng-template contextMenuItem (execute)="addSection(node)">
            <i class="fa fa-plus"></i> Add Section
          </ng-template>
          <ng-template contextMenuItem (execute)="addSection(node)">
            <i class="fa fa-copy"></i> Copy Section
          </ng-template>
          <ng-template contextMenuItem (execute)="addSection(node)">
            <i class="fa fa-remove"></i> Delete Section
          </ng-template>

        </context-menu>

      </ng-container>


      <ng-container *ngSwitchCase="'PROFILE'">
        <span> {{getPath(node)}} {{node.data.data.label}}</span>
      </ng-container>


      <ng-container *ngSwitchCase="'PROFILECOMPONENTREGISTRY'">
        <span> {{getPath(node)}} {{node.data.data.label}}</span>
      </ng-container>


      <ng-container *ngSwitchCase="'CONFORMANCEPROFILEREGISTRY'">
        <span> {{getPath(node)}} {{node.data.data.label}}</span>
      </ng-container>



      <ng-container *ngSwitchCase="'COMPOSITEPROFILEREGISTRY'">
        <span> {{getPath(node)}} {{node.data.data.label}}</span>
      </ng-container>

      <ng-container *ngSwitchCase="'DATATYPEREGISTRY'">
        <span> {{getPath(node)}} {{node.data.data.label}}</span>
      </ng-container>



      <ng-container *ngSwitchCase="'VALUESETREGISTRY'">
        <span> {{getPath(node)}} {{node.data.data.label}}</span>
      </ng-container>


      <ng-container *ngSwitchCase="'SEGMENTRGISTRY'">
        <span> {{getPath(node)}} {{node.data.data.label}}</span>
      </ng-container>

      <ng-container *ngSwitchCase="'DATATYPE'">
        <display-label [elm]="node.data.data" [igId]="igId"></display-label>

      </ng-container>

      <ng-container *ngSwitchCase="'CONFORMANCEPROFILE'">
        <span> {{getPath(node)}} {{node.data.data.label}}</span>
      </ng-container>


      <ng-container *ngSwitchCase="'COMPOSITEPROFILE'">
        <span> {{getPath(node)}} {{node.data.data.label}}</span>
      </ng-container>


      <ng-container *ngSwitchCase="'SEGMENT'">
        {{getPath(node)}} <display-label [elm]="node.data.data" [igId]="igId"></display-label>

      </ng-container>

      <ng-container *ngSwitchCase="'VALUESET'" >
        {{getPath(node)}}  <display-label [elm]="node.data.data" [igId]="igId"></display-label>
      </ng-container>
      <ng-container *ngSwitchCase="'PROFILECOMPONENT'">
        {{getPath(node)}}    <span>{{node.data.data.label}}</span>
      </ng-container>

      <ng-container *ngSwitchCase="'DISPLAY'">
        {{getPath(node)}}  <span>{{node.data.data.label}}</span>
      </ng-container>

    </ng-container>


  </ng-template>
</tree-root>
</p-panel>


