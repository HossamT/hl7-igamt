<div class="ui-g ui-fluid">
    <div class="ui-g-12 ui-md-10">
        <div *ngIf="currentBindings">
            <div *ngFor="let vs of currentBindings.valuesetBindings">
                <i class="fa fa-circle" [ngClass]="{'first-priority' : currentBindings.priority === 1, 'second-priority' : currentBindings.priority === 2, 'third-priority' : currentBindings.priority === 3, 'fourth-priority' : currentBindings.priority === 4}"></i>
                {{getBindingIdentifier(vs.valuesetId)}}
            </div>
        </div>
    </div>
    <div class="ui-g-12 ui-md-2">
        <i class="fa fa-pencil" (click)="editValuesetBindings()"></i>
    </div>
</div>

<p-dialog *ngIf="valuesetEditDialogOpen" header="Edit Valueset bindings" [(visible)]="valuesetEditDialogOpen" [modal]="true" [responsive]="true" [contentStyle]="{'width':'80% !important;', 'height':'60% !important;', 'top':'20% !important;', 'left':'10% !important;', 'right':'10% !important;'}">
    <label>Current Valueset Bindings</label>
    <p-table [value]="currentBindings.valuesetBindings">
        <ng-template pTemplate="header">
            <tr>
                <th>Scope/Version</th>
                <th>Binding Identifier</th>
                <th>Name</th>
                <th>Binding Strength</th>
                <th>Binding Location</th>
                <th></th>
            </tr>
        </ng-template>
        <ng-template pTemplate="body" let-item>
            <tr>
                <td>
                    <span class="badge" [ngClass]="{'label-HL7' : getVS(item.valuesetId).scope === 'HL7STANDARD', 'label-USER': getVS(item.valuesetId).scope === 'USER'}">{{getVS(item.valuesetId).version}}</span>
                </td>
                <td>{{getBindingIdentifier(item.valuesetId)}}</td>
                <td>{{getVSName(item.valuesetId)}}</td>
                <td></td>
                <td></td>
                <td>{{item|json}}</td>
            </tr>
        </ng-template>
    </p-table>

    <label>Current Valueset Library</label>
</p-dialog>

    <!--<p-dialog header="Edit Valueset bindings" [(visible)]="valuesetEditDialogOpen" [modal]="true" [responsive]="true" [width]="600" [minWidth]="200" [minY]="70">-->
        <!--<div class="ui-g ui-fluid">-->
            <!--<div class="ui-g-12 ui-md-4">-->
                <!--<label>Binding Identifier: </label>-->
            <!--</div>-->
            <!--<div class="ui-g-12 ui-md-8">-->
                <!--<p-dropdown [options]="valuesetOptions" [(ngModel)]="selectedVS.newvalue.valuesetId" appendTo="body" [style]="{'width':'150px'}" filter="true">-->
                    <!--<ng-template let-option pTemplate="body">-->
                        <!--<div class="ui-helper-clearfix" style="position: relative;height: 25px;">-->
                            <!--<display-ref *ngIf="option.value" [elm]="getValueSetElm(option.value)"></display-ref>-->
                            <!--<span *ngIf="!option.value">{{option.label}}</span>-->
                        <!--</div>-->
                    <!--</ng-template>-->
                <!--</p-dropdown>-->
            <!--</div>-->
        <!--</div>-->

        <!--<div class="ui-g ui-fluid">-->
            <!--<div class="ui-g-12 ui-md-4">-->
                <!--<label>Strength: </label>-->
            <!--</div>-->
            <!--<div class="ui-g-12 ui-md-8">-->
                <!--<p-dropdown [options]="valuesetStrengthOptions" [(ngModel)]="selectedVS.newvalue.strength" appendTo="body" [style]="{'width':'150px'}">-->
                <!--</p-dropdown>-->
            <!--</div>-->
        <!--</div>-->

        <!--<div class="ui-g ui-fluid" *ngIf="selectedNode.data.displayData.valueSetLocationOptions">-->
            <!--<div class="ui-g-12 ui-md-4">-->
                <!--<label>Valueset Location: </label>-->
            <!--</div>-->
            <!--<div class="ui-g-12 ui-md-8">-->
                <!--<p-dropdown [options]="selectedNode.data.displayData.valueSetLocationOptions" [(ngModel)]="selectedVS.newvalue.valuesetLocations" appendTo="body" [style]="{'width':'150px'}">-->
                <!--</p-dropdown>-->
            <!--</div>-->
        <!--</div>-->

        <!--<button pButton style="float: right" type="button"  class="blue-btn" icon="fa-check" label="Submit" (click)="submitNewValueSet(selectedNode, selectedVS)" [disabled]="!selectedVS.newvalue.valuesetId"></button>-->
    <!--</p-dialog>-->

